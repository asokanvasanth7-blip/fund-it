<!-- Side Navigation Layout -->
<div class="app-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.sidebar-collapsed]="sidebarCollapsed">
    <!-- Logo Section -->
    <div class="sidebar-header">
      <div class="logo-container">
        <span class="logo-icon">💰</span>
        <span class="logo-text" *ngIf="!sidebarCollapsed">Fund<span style="color: #90EE90;">It</span></span>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li class="nav-item">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
            <span class="nav-icon">🏠</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Home</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/account-details" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">👥</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Accounts</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/payment-collection" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">💳</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Collect Payment</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/update-due-details" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">✏️</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Update Due</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/update-loan-details" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">💰</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Update Loan</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/due-schedule" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">📅</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Due Schedule</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/upload" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">📤</span>
            <span class="nav-text" *ngIf="!sidebarCollapsed">Upload Data</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Auth Section at Bottom -->
    <div class="sidebar-footer">
      <ng-container *ngIf="user$ | async as user; else notLoggedIn">
        <div class="user-section">
          <div class="user-info" *ngIf="!sidebarCollapsed">
            <span class="user-icon">👤</span>
            <span class="user-email">{{ user.email }}</span>
          </div>
          <button class="btn-logout" (click)="logout()" [title]="sidebarCollapsed ? user.email : ''">
            <span *ngIf="!sidebarCollapsed">Logout</span>
            <span *ngIf="sidebarCollapsed">🚪</span>
          </button>
        </div>
      </ng-container>
      <ng-template #notLoggedIn>
        <button class="btn-login" (click)="goToLogin()">
          <span *ngIf="!sidebarCollapsed">Login / Sign Up</span>
          <span *ngIf="sidebarCollapsed">🔑</span>
        </button>
      </ng-template>
    </div>

    <!-- Toggle Button -->
    <button class="sidebar-toggle" (click)="toggleSidebar()">
      <span *ngIf="!sidebarCollapsed">◀</span>
      <span *ngIf="sidebarCollapsed">▶</span>
    </button>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content" [class.main-content-expanded]="sidebarCollapsed">
    <!-- Top Bar for Mobile -->
    <div class="mobile-topbar">
      <button class="mobile-menu-btn" (click)="toggleSidebar()">
        ☰
      </button>
      <div class="mobile-logo">
        <span>💰</span>
        <span class="ms-2">Fund<span style="color: #90EE90;">It</span></span>
      </div>
    </div>

    <router-outlet />
  </main>
</div>

<!-- Mobile Overlay -->
<div class="sidebar-overlay" [class.active]="!sidebarCollapsed" (click)="toggleSidebar()"></div>

